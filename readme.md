# æº€è…¹ã˜ã‚ƒã‚“ã‘ã‚“ CLI / Calorie Clash CLI

> ãƒã‚¤ãƒ³ãƒˆã‚’ç¨¼ãã‹ã€æº€è…¹ã§è„±è½ã‹â”€â”€èƒƒè¢‹ã®é™ç•Œãƒãƒˆãƒ«ã€‚

## æ¦‚è¦ / Overview
Python è£½ã® CLI ã‚²ãƒ¼ãƒ ã§ã™ã€‚1Pï¼ˆvs CPUï¼‰/ 2Pï¼ˆvs Playerï¼‰ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ï¼ˆç›®æ¨™ãƒã‚¤ãƒ³ãƒˆã€æº€è…¹åº¦å®¹é‡ã€ã‚ã„ã“æ™‚æŒ™å‹•ï¼‰ã€å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ï¼ˆg/c/p ç›´å…¥åŠ› or questionary ã«ã‚ˆã‚‹é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ã«å¯¾å¿œã€‚
Rich ã«ã‚ˆã‚‹è‰²ä»˜ãå‡ºåŠ›ã§è¦–èªæ€§ã‚’é«˜ã‚ã¦ã„ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« / Install
```bash
python -m venv .venv && source .venv/bin/activate  # Windows: .venv\\Scripts\\activate
pip install -e .
```

## å®Ÿè¡Œ / Run
```bash
# å¼•æ•°ãªã—ã§å®Ÿè¡Œï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ â†’ ã‚¹ã‚¿ãƒ¼ãƒˆ/ã‚ªãƒ—ã‚·ãƒ§ãƒ³/çµ‚äº†ï¼‰
calorie-clash

# 2P å¯¾æˆ¦ï¼ˆä¸¡è€…ã¨ã‚‚äººé–“ï¼‰
calorie-clash --mode 2p

# questionary ã«ã‚ˆã‚‹é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼å…¥åŠ›
calorie-clash --mode 1p --input menu

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã§èµ·å‹•ï¼ˆãƒ¢ãƒ¼ãƒ‰/ä½“æ ¼/ã‚¿ã‚¤ãƒ¼ãƒ«ãƒ¼ãƒ«ç­‰ã‚’å¯¾è©±è¨­å®šï¼‰
calorie-clash --wizard

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã«å®Ÿè¡Œï¼ˆé–‹ç™ºæ™‚ï¼‰
PYTHONPATH=src python -m calorie_clash --mode 1p  # Windows: $env:PYTHONPATH="src"; python -m calorie_clash --mode 1p
```

## ãƒ†ã‚¹ãƒˆ / Test
ï¼ˆä»»æ„ï¼‰pytest ã‚’å°å…¥å¾Œã«è¿½åŠ äºˆå®šã§ã™ã€‚

## ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ä½¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰
- `:help` ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
- `:status` ç¾åœ¨ã®ã‚¹ã‚³ã‚¢/æº€è…¹åº¦ã‚’è¡¨ç¤º
- `:rules` ç¾åœ¨ã®ãƒ«ãƒ¼ãƒ«ã‚’è¡¨ç¤º
- `:set key=value` ãƒ«ãƒ¼ãƒ«å¤‰æ›´ï¼ˆ`input=direct|menu`, `time=ç§’`, `tie=replay|bothEat|skip`, `target=æ•°`, `capacity=æ•°`, `multiplier=æ•°`ï¼‰
- `:quit` çµ‚äº†

## ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ / ç¢ºèª
- æ±ºå®šç¢ºèª: åŒæ–¹ã®æ‰‹ã®é¸æŠå¾Œã«ã€Œæ±ºå®š/ã‚„ã‚Šç›´ã—ã€ã‚’ç¢ºèª
- ã‚¸ãƒ£ãƒ³ãƒ»ã‚±ãƒ³ãƒ»ãƒãƒ³ï¼: 1ç§’åˆ»ã¿ã§è¡¨ç¤ºï¼ˆã‚¸ãƒ£ãƒ³ â†’ ã‚±ãƒ³ â†’ ãƒãƒ³ï¼ï¼‰

## ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
- é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼: â†‘/â†“ ã§ç§»å‹•ã€Enter ã§æ±ºå®šã€^C ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«
- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹: â†‘/â†“ ã§ç§»å‹•ã€Space ã§åˆ‡æ›¿ã€Enter ã§é©ç”¨ã€^C ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«

## ã‚¿ã‚¤ãƒˆãƒ«/ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- ã‚¿ã‚¤ãƒˆãƒ«: ã€Œã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆã€ã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ã€Œçµ‚äº†ã€
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³: 
  - è¨€èªè¨­å®šï¼ˆja/enï¼‰
  - ãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
    - ã‚ã„ã“æ™‚ã«ä¸¡è€…é£Ÿã¹ã‚‹ï¼ˆbothEatï¼‰
    - å…¥åŠ›æ–¹å¼ã‚’é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆquestionaryï¼‰ã«ã™ã‚‹
  - ã‚«ãƒ¼ã‚½ãƒ«è¡¨ç¤ºï¼ˆé¸æŠï¼‰
    - `â¯` / `>` / `ğŸ‘‰` ã‹ã‚‰é¸æŠå¯
  - è‰²è¨­å®šï¼ˆé¸æŠï¼‰
    - ã‚«ãƒ¼ã‚½ãƒ«è‰²ï¼ˆpointer colorï¼‰
    - é¸æŠä¸­ã®ä¸‹ç·šè‰²ï¼ˆhighlight underline colorï¼‰
  - é£Ÿã¹ç‰©CSVã®èª­ã¿è¾¼ã¿
     - `hand,name,kcal[,points]` ã®CSVã‚’èª­ã¿è¾¼ã¿
     - é©ç”¨æ–¹æ³•ã‚’é¸æŠ: æ—¢å®šã«è¿½åŠ ï¼ˆextendï¼‰/ æ—¢å®šã‚’ç½®æ›ï¼ˆreplaceï¼‰
     - points åˆ—ãŒã‚ã‚Œã°ãƒã‚¤ãƒ³ãƒˆè¨ˆç®—ã‚’ä¸Šæ›¸ãï¼ˆç„¡ã„å ´åˆã¯åå‰é•·Ã—2ï¼‰

## ä»•çµ„ã¿ / Architecture
- ã‚³ã‚¢å‹/ãƒ‡ãƒ¼ã‚¿: `src/calorie_clash/core/types.py`, `src/calorie_clash/core/data.py`
- ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯: `src/calorie_clash/core/engine.py`
- CLIå…¥å‡ºåŠ›/é€²è¡Œ: `src/calorie_clash/cli/loop.py`
- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰: `src/calorie_clash/cli/wizard.py`
- ã‚¿ã‚¤ãƒˆãƒ«/ã‚ªãƒ—ã‚·ãƒ§ãƒ³: `src/calorie_clash/cli/title.py`
- ã‚¨ãƒ³ãƒˆãƒª: `src/calorie_clash/cli/main.py` / `src/calorie_clash/__main__.py`
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆè‰²ãƒ†ãƒ¼ãƒï¼‰: `src/calorie_clash/cli/console.py`

MIT License

### ä¸»è¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- `--mode`: `1p` | `2p`
- `--input`: `direct` | `menu`ï¼ˆquestionaryï¼‰
- `--target`: ç›®æ¨™ãƒã‚¤ãƒ³ãƒˆï¼ˆæ—¢å®š 50ï¼‰
- `--physique`: `small` | `medium` | `large`ï¼ˆæº€è…¹ä¸Šé™ 800/1000/1300ï¼‰
- `--p1-name`, `--p2-name`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å
- `--tie`: `rematch` | `bothEat`ï¼ˆã‚ã„ã“æ™‚ã®æŒ™å‹•ï¼‰
- `--wizard`: èµ·å‹•æ™‚ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
- `--anim`: `on` | `off`ï¼ˆã‚¸ãƒ£ãƒ³ãƒ»ã‚±ãƒ³ãƒ»ãƒãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºï¼‰
- `--anim-speed`: ã‚¢ãƒ‹ãƒ¡é–“éš”ï¼ˆç§’, æ—¢å®š 1.0ï¼‰
- `--pointer`: `tri` | `gt` | `hand`ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚«ãƒ¼ã‚½ãƒ«è¨˜å·: `tri=â¯`, `gt=>`, `hand=ğŸ‘‰`ï¼‰
- `--pointer-color`: `magenta|cyan|green|yellow|blue|white`
- `--underline-color`: `cyan|magenta|green|yellow|blue|white`
- `--foods-csv`: é£Ÿã¹ç‰©CSVã®ãƒ‘ã‚¹ï¼ˆ`hand,name,kcal[,points]`ï¼‰
- `--foods-mode`: `extend` | `replace`ï¼ˆCSVã®é©ç”¨æ–¹æ³•ï¼‰
